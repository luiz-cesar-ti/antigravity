# PROMPT T√âCNICO - SISTEMA DE AGENDAMENTO DE EQUIPAMENTOS ESCOLARES COL√âGIO OBJETIVO

Crie um sistema web completo de agendamento de equipamentos escolares com as seguintes especifica√ß√µes:

---

## TECNOLOGIAS OBRIGAT√ìRIAS
- React com TypeScript
- Tailwind CSS para estiliza√ß√£o
- Supabase para backend e autentica√ß√£o (j√° configurado via MCP)
- Recharts para gr√°ficos do dashboard
- Lucide React para √≠cones
- Design profissional e moderno com cores: azul escuro (#2D3561) como cor principal

---

## ESTRUTURA DO BANCO DE DADOS

### Tabela `users` (Professores)
Campos necess√°rios:
- ID √∫nico
- N√∫mero TOTVS (√∫nico, obrigat√≥rio)
- Nome completo
- Email institucional (√∫nico, obrigat√≥rio)
- Senha (hash)
- Unidades (array, pode trabalhar em m√∫ltiplas unidades)
- Role: 'teacher'
- Data de cria√ß√£o

### Tabela `admins` (Administradores)
Campos necess√°rios:
- ID √∫nico
- Username (√∫nico)
- Senha (hash)
- Unidade espec√≠fica que gerencia
- Role: 'admin'

**Admins pr√©-configurados:**
| Username | Senha | Unidade |
|----------|-------|---------|
| saovicente | Sup0rt3T1 | Objetivo S√£o Vicente |
| praiagrande | Sup0rt3T1 | Objetivo Praia Grande |
| embare | Sup0rt3T1 | Objetivo Embar√© |
| conselheironebias | Sup0rt3T1 | Objetivo Conselheiro N√©bias |
| pontadapraia | Sup0rt3T1 | Objetivo Ponta da Praia |
| guaruja | Sup0rt3T1 | Objetivo Guaruj√° |
| saojosedoscampos | Sup0rt3T1 | Objetivo S√£o Jos√© dos Campos |

### Tabela `equipment` (Equipamentos)
Campos necess√°rios:
- ID √∫nico
- Unidade (qual unidade possui o equipamento)
- Nome do equipamento (ex: Notebook, Tablet, Microfone, Caixa de Som)
- Marca
- Modelo
- Quantidade total dispon√≠vel
- Datas de cria√ß√£o e atualiza√ß√£o

### Tabela `bookings` (Agendamentos)
Campos necess√°rios:
- ID √∫nico
- ID do usu√°rio (professor)
- Unidade
- Local (sala/ambiente)
- Data do agendamento
- Hora de in√≠cio
- Hora de t√©rmino
- ID do equipamento
- Quantidade reservada
- Observa√ß√µes (opcional)
- Status ('active' ou 'encerrado')
- Termo assinado (boolean)
- Documento do termo (JSON com todos os dados)
- Datas de cria√ß√£o e atualiza√ß√£o

### Tabela `settings` (Configura√ß√µes por Unidade)
Campos necess√°rios:
- ID √∫nico
- Unidade
- Agendamento antecipado habilitado (boolean)
- Horas de anteced√™ncia m√≠nima (n√∫mero)
- Data de atualiza√ß√£o

---

## LISTA DE UNIDADES DO COL√âGIO OBJETIVO
1. Objetivo S√£o Vicente
2. Objetivo Praia Grande
3. Objetivo Embar√©
4. Objetivo Conselheiro N√©bias
5. Objetivo Ponta da Praia
6. Objetivo Guaruj√°
7. Objetivo S√£o Jos√© dos Campos

---

## FUNCIONALIDADES DO SISTEMA

### 1. AUTENTICA√á√ÉO E CADASTRO

#### P√°gina de Login
- Mesma p√°gina para professores e admins
- Campos: usu√°rio/n√∫mero TOTVS e senha
- Link "Esqueci minha senha" (recupera√ß√£o via email)
- Link "Criar conta" (apenas para professores)
- Sistema deve identificar automaticamente se √© admin ou professor ap√≥s login

#### Cadastro de Professor
Campos obrigat√≥rios:
- **Unidades do Objetivo**: Dropdown com m√∫ltipla sele√ß√£o (professor pode trabalhar em v√°rias unidades)
  - Informar ao professor: "Selecione TODAS as unidades onde voc√™ trabalha"
  - Armazenar como array no banco
- **N√∫mero de Usu√°rio TOTVS**: Campo de texto
- **Nome Completo**: Campo de texto
- **Email Institucional**: Campo de email (usado para recupera√ß√£o de senha)
- **Senha**: Campo password
- **Confirmar Senha**: Campo password

Valida√ß√µes:
- Email institucional deve ser √∫nico
- N√∫mero TOTVS deve ser √∫nico
- Senha m√≠nima de 8 caracteres

---

### 2. √ÅREA DO PROFESSOR

#### Menu de Navega√ß√£o (Header)
- Logo Col√©gio Objetivo (lado esquerdo)
- Links: In√≠cio | Agendamentos | Hor√°rio de Aulas | Ajuda | Admin (se for admin)
- Bot√£o de Logout

#### 2.1 P√°gina "In√≠cio" - Novo Agendamento

**Formul√°rio em 3 Etapas (design com steps visuais no topo)**

**ETAPA 1: Dados B√°sicos**
Interface:
- T√≠tulo: "Novo Agendamento"
- Subt√≠tulo: "Preencha as informa√ß√µes abaixo para reservar seus equipamentos"
- Progress indicator mostrando 3 etapas com √≠cones

Campos:
1. **Unidade Objetivo** (√≠cone de pr√©dio)
   - Dropdown mostrando APENAS as unidades onde o professor trabalha (do cadastro dele)
   - Label: "Unidade Objetivo *"
   - Obrigat√≥rio

2. **N√∫mero de Usu√°rio TOTVS** (√≠cone de chave)
   - Campo de texto
   - Label: "N√∫mero de Usu√°rio TOTVS *"
   - Helper text: "O n√∫mero de usu√°rio TOTVS est√° no seu crach√°"
   - Obrigat√≥rio

3. **Nome Completo** (√≠cone de usu√°rio)
   - Campo de texto
   - **Preenchimento autom√°tico**: Quando o professor digitar o n√∫mero TOTVS, o sistema busca e preenche automaticamente o nome completo do banco de dados
   - Somente leitura ap√≥s preenchido
   - Label: "Nome Completo"

4. **Local** (√≠cone de localiza√ß√£o)
   - Campo de texto
   - Label: "Local *"
   - Placeholder: "Ex: sala 10, laborat√≥rio, audit√≥rio"
   - Obrigat√≥rio

5. **Data** (√≠cone de calend√°rio)
   - Date picker
   - Label: "Data *"
   - N√£o permitir datas passadas
   - Obrigat√≥rio

6. **Hora In√≠cio** (√≠cone de rel√≥gio)
   - Time picker
   - Label: "Hora In√≠cio *"
   - Formato: HH:mm
   - Obrigat√≥rio

7. **Hora T√©rmino** (√≠cone de rel√≥gio)
   - Time picker
   - Label: "Hora T√©rmino *"
   - Formato: HH:mm
   - Valida√ß√£o: deve ser posterior √† hora de in√≠cio
   - Obrigat√≥rio

**Valida√ß√£o especial - Anteced√™ncia m√≠nima:**
- Verificar se a configura√ß√£o de anteced√™ncia est√° ativada para aquela unidade
- Se ativada, verificar se o hor√°rio escolhido respeita as horas m√≠nimas de anteced√™ncia
- Se n√£o respeitar, mostrar erro destacado: "‚ùå √â necess√°rio agendar com no m√≠nimo [X] horas de anteced√™ncia. Por favor, escolha outro hor√°rio."
- N√£o permitir avan√ßar para pr√≥xima etapa

Bot√£o: "Pr√≥ximo" (azul, lado direito)

---

**ETAPA 2: Equipamentos**

Interface:
- T√≠tulo: "Equipamentos Dispon√≠veis"
- Subt√≠tulo: "Selecione os equipamentos e defina a quantidade desejada"
- Banner verde de sucesso: "‚úÖ Quantidades atualizadas para [data] das [hora in√≠cio] √†s [hora t√©rmino]"

**L√≥gica de disponibilidade:**
1. Sistema busca todos os equipamentos cadastrados para aquela unidade
2. Para cada equipamento, calcula quantos j√° est√£o reservados para aquele hor√°rio espec√≠fico
3. Mostra apenas a quantidade dispon√≠vel

**Cards de Equipamentos** (grid 2 colunas)
Para cada equipamento mostrar:
- √çcone do equipamento
- Nome do equipamento (ex: "Notebook")
- Status de disponibilidade:
  - Se dispon√≠vel: "[X] dispon√≠vel" (texto verde)
  - Se TODOS reservados: "TODOS OS [EQUIPAMENTOS] J√Å EST√ÉO RESERVADOS" (texto vermelho, negrito, destacado)
- Campo de quantidade:
  - Input num√©rico
  - Min: 0
  - Max: quantidade dispon√≠vel
  - Se n√£o houver dispon√≠vel, input desabilitado com valor 0

Valida√ß√£o:
- Professor DEVE selecionar pelo menos 1 equipamento com quantidade > 0
- N√£o permitir avan√ßar sem sele√ß√£o
- Mostrar erro se tentar avan√ßar sem selecionar: "Por favor, selecione pelo menos um equipamento"

Bot√µes: 
- "‚Üê Anterior" (cinza, lado esquerdo)
- "Pr√≥ximo" (azul, lado direito)

---

**ETAPA 3: Confirma√ß√£o**

Interface:
- T√≠tulo: "Confirme seu Agendamento"
- Subt√≠tulo: "Revise as informa√ß√µes antes de finalizar"

**Resumo do Agendamento (2 colunas)**

Coluna esquerda:
- **NOME COMPLETO**: [Nome do professor]
- **DATA**: [Data formatada]
- **EQUIPAMENTOS SELECIONADOS**: Lista com cada equipamento e quantidade

Coluna direita:
- **LOCAL**: [Local]
- **HOR√ÅRIO**: [HH:mm - HH:mm]

**Observa√ß√µes** (opcional)
- Textarea
- Label: "üìù Observa√ß√µes (opcional)"
- Placeholder: "Adicione observa√ß√µes sobre o agendamento..."
- Max 500 caracteres

**Termo de Responsabilidade** (destaque visual)

Box com borda:
- Checkbox obrigat√≥rio
- Texto: "Li e aceito os termos de responsabilidade e uso dos equipamentos"
- Link ao lado: "üìÑ Visualizar Termo" (abre modal)

**Modal do Termo:**
- T√≠tulo: "Termo de Responsabilidade e Uso"
- Conte√∫do: Termo completo com TODAS as informa√ß√µes preenchidas automaticamente:
  - [Nome Completo] ‚Üí Nome do professor
  - [N√∫mero de Usu√°rio TOTVS] ‚Üí N√∫mero TOTVS
  - [Unidade Objetivo] ‚Üí Unidade selecionada
  - [Local] ‚Üí Local informado
  - [Data] ‚Üí Data do agendamento
  - [Hora In√≠cio] ‚Üí Hora inicial
  - [Hora T√©rmino] ‚Üí Hora final
  - [Nome do Equipamento] ‚Üí Nome de cada equipamento selecionado
  - [Marca] ‚Üí Marca do equipamento (do cadastro)
  - [Modelo] ‚Üí Modelo do equipamento (do cadastro)
  - [Quantidade] ‚Üí Quantidade reservada
  - [Data e Hora do Sistema] ‚Üí Timestamp atual

**CONTE√öDO DO TERMO:**
```
[LOGO COL√âGIO OBJETIVO]

DECLARA√á√ÉO DE RESPONSABILIDADE E TERMO DE USO

Declaro que eu, [Nome Completo], portador(a) do n√∫mero de usu√°rio TOTVS [N√∫mero de Usu√°rio TOTVS], estou ciente e de acordo com as condi√ß√µes de uso do(s) equipamento(s) abaixo descrito(s), responsabilizando-me integralmente por sua utiliza√ß√£o durante o per√≠odo de agendamento.

DADOS DO AGENDAMENTO
Unidade: [Unidade Objetivo]
Local: [Local]
Data: [Data]
Hor√°rio: [Hora In√≠cio] √†s [Hora T√©rmino]

EQUIPAMENTO(S) RESERVADO(S)
Equipamento: [Nome do Equipamento]
Marca: [Marca]
Modelo: [Modelo]
Quantidade: [Quantidade] unidade(s)

COMPROMISSOS E RESPONSABILIDADES
Ao aceitar este termo, comprometo-me a:

1. Utilizar o equipamento exclusivamente durante o per√≠odo agendado e no local especificado acima.

2. Orientar adequadamente o uso do equipamento, quando utilizado por alunos, zelando por sua conserva√ß√£o e bom funcionamento.

3. Responsabilizar-me por qualquer dano decorrente de mau uso ocorrido durante o per√≠odo em que o equipamento estiver sob minha responsabilidade, incluindo o uso realizado pelos alunos.

4. Informar imediatamente ao respons√°vel pela Educa√ß√£o Digital sobre qualquer dano, defeito ou problema identificado no equipamento.

5. Devolver o equipamento ao respons√°vel pela Educa√ß√£o Digital ao t√©rmino do agendamento, nas mesmas condi√ß√µes em que foi recebido.

6. Utilizar o equipamento exclusivamente para fins educacionais e pedag√≥gicos, em conformidade com as diretrizes do Col√©gio Objetivo.

TERMO DE CI√äNCIA
Declaro estar ciente de que:
- A utiliza√ß√£o inadequada do equipamento pode resultar em medidas administrativas cab√≠veis.
- Sou respons√°vel pela seguran√ßa e integridade do equipamento durante todo o per√≠odo de uso.
- Qualquer dano causado por neglig√™ncia, imper√≠cia ou imprud√™ncia ser√° de minha responsabilidade.
- O n√£o cumprimento deste termo pode resultar na suspens√£o de futuros agendamentos.

ASSINATURA DIGITAL
Por estar de acordo com todos os termos acima descritos, firmo digitalmente o presente termo.

Nome Completo: [Nome Completo]
N√∫mero TOTVS: [N√∫mero de Usu√°rio TOTVS]
Unidade: [Unidade Objetivo]
Assinatura Digital: [Nome Completo]
Data e Hora da Aceita√ß√£o: [Data e Hora do Sistema]
```

- Bot√£o: "Baixar Termo (PDF)" no modal
- Fechar modal

Valida√ß√£o:
- Checkbox do termo DEVE estar marcado para confirmar
- Se n√£o marcado, mostrar erro ao tentar confirmar

Bot√µes:
- "‚Üê Anterior" (cinza, lado esquerdo)
- "Confirmar Agendamento" (verde, lado direito)

**Ap√≥s confirma√ß√£o:**
- Salvar agendamento no banco com status 'active'
- Salvar o termo completo gerado em formato JSON no campo term_document
- Marcar term_signed como true
- Mostrar mensagem de sucesso: "‚úÖ Agendamento realizado com sucesso!"
- Redirecionar para p√°gina "Agendamentos" ap√≥s 2 segundos

---

#### 2.2 P√°gina "Agendamentos"

**Modal de Sele√ß√£o Inicial** (ao entrar na p√°gina)
- Overlay bloqueando a tela
- Modal centralizado
- T√≠tulo: "Selecione a Unidade"
- Subt√≠tulo: "Selecione a unidade do Objetivo que deseja visualizar os agendamentos"
- Dropdown com as unidades (mostrar TODAS as unidades, n√£o apenas as do professor)
- Bot√£o: "Visualizar Agendamentos"

**Ap√≥s sele√ß√£o:**
- Fechar modal
- Exibir p√°gina de agendamentos

**Layout da P√°gina:**
- T√≠tulo: "Agendamentos"
- Subt√≠tulo: "Visualize todos os agendamentos realizados no sistema"
- Barra de busca: "üîç Pesquisar por nome..."
- Grid de cards (3 colunas)

**Card de Agendamento:**
Informa√ß√µes exibidas:
- √çcone de usu√°rio + Nome do professor
- √çcone de equipamento + Nome do equipamento
- Quantidade: "X unidades"
- √çcone de localiza√ß√£o + Local
- √çcone de calend√°rio + Data formatada
- √çcone de rel√≥gio + Hor√°rio (HH:mm - HH:mm)
- **Badge de Status**:
  - Se status = 'active' E hor√°rio atual < hora t√©rmino: Badge verde "Ativo"
  - Se hor√°rio atual >= hora t√©rmino: Badge vermelho "Encerrado" (atualizar automaticamente o status no banco)
- Se houver observa√ß√µes: √çcone "üìù OBSERVA√á√ïES:" + texto

**Regras:**
- Professores podem ver agendamentos de TODOS os professores da unidade selecionada
- Professores N√ÉO podem editar ou cancelar agendamentos
- Professores N√ÉO podem visualizar termos de outros professores
- Atualiza√ß√£o autom√°tica de status: Sistema verifica constantemente se o hor√°rio de t√©rmino j√° passou e atualiza para "Encerrado"

---

### 3. √ÅREA DO ADMINISTRADOR

Acesso: Admin faz login com username e senha ‚Üí Sistema redireciona automaticamente para painel admin

#### Menu Lateral (Sidebar)
- Logo Col√©gio Objetivo
- Nome da unidade do admin
- Itens do menu:
  - üìä Dashboard
  - üìÖ Agendamentos
  - üíª Equipamentos
  - üë• Usu√°rios
  - ‚öôÔ∏è Configura√ß√µes
  - üö™ Sair

---

#### 3.1 Dashboard (p√°gina inicial do admin)

**Estat√≠sticas em Cards (4 cards no topo)**
1. Total de Agendamentos (m√™s atual)
2. Total de Equipamentos Cadastrados
3. Total de Professores Cadastrados
4. Agendamentos Ativos (neste momento)

**Gr√°ficos Interativos** (usar Recharts)

**Gr√°fico 1: Agendamentos por Per√≠odo**
- Tipo: Gr√°fico de linhas
- Filtros: "√öltima Semana" | "√öltimo M√™s" | "√öltimo Ano"
- Eixo X: Dias/Semanas/Meses
- Eixo Y: Quantidade de agendamentos
- Animado e colorido

**Gr√°fico 2: Professores que Mais Agendaram**
- Tipo: Gr√°fico de barras horizontais
- Mostrar top 10 professores
- Filtros: "Esta Semana" | "Este M√™s"
- Cores gradientes

**Gr√°fico 3: Equipamentos Mais Agendados**
- Tipo: Gr√°fico de pizza/rosca
- Mostrar % de cada equipamento
- Legenda com cores
- Anima√ß√£o ao hover

**Gr√°fico 4: Hor√°rios de Pico**
- Tipo: Heatmap ou gr√°fico de barras
- Mostrar quais hor√°rios t√™m mais agendamentos
- Agrupado por: Manh√£ (7h-12h), Tarde (12h-18h), Noite (18h-23h)

**Gr√°fico 5: Taxa de Utiliza√ß√£o de Equipamentos**
- Tipo: Gr√°fico de barras empilhadas
- Para cada equipamento mostrar: quantidade total vs quantidade m√©dia reservada
- Percentual de utiliza√ß√£o

**Design:**
- Cores vibrantes e profissionais
- Anima√ß√µes suaves
- Tooltips informativos
- Responsivo

---

#### 3.2 Agendamentos (Admin)

**Layout:**
- T√≠tulo: "Gerenciar Agendamentos"
- Barra de busca: "üîç Pesquisar por professor, equipamento ou local..."
- Filtros: Status (Todos | Ativos | Encerrados), Data
- Grid de cards

**Card de Agendamento (vers√£o admin):**
Todas as informa√ß√µes do card do professor +
- Bot√£o: "üëÅÔ∏è Ver Termo" (abre modal com termo)
- Bot√£o: "‚úèÔ∏è Editar" (abre modal de edi√ß√£o)
- Bot√£o: "üóëÔ∏è Excluir" (confirma√ß√£o antes de deletar)

**Modal "Ver Termo":**
- Exibir o termo completo formatado
- Bot√£o: "üì• Baixar PDF"
- Fechar modal

**Modal "Editar Agendamento":**
- Permitir editar: Local, Data, Hor√°rio, Quantidade de equipamentos, Observa√ß√µes
- Bot√£o: "Salvar Altera√ß√µes"
- Validar disponibilidade se mudar hor√°rio/quantidade

**Exclus√£o:**
- Confirmar com modal: "Tem certeza que deseja excluir este agendamento?"
- Bot√µes: "Cancelar" | "Sim, Excluir"

**Atualiza√ß√£o autom√°tica de status:**
- Sistema verifica periodicamente e muda status de 'active' para 'encerrado' quando hor√°rio passar

---

#### 3.3 Equipamentos (Admin)

**Layout:**
- T√≠tulo: "Gerenciar Equipamentos"
- Bot√£o: "+ Cadastrar Equipamento" (destacado, canto superior direito)
- Tabela com colunas:
  - Equipamento (nome)
  - Marca
  - Modelo
  - Quantidade Total
  - A√ß√µes (Editar | Excluir)

**Modal "Cadastrar Equipamento":**
Campos:
- **Nome do Equipamento**: Campo de texto livre (admin pode cadastrar qualquer equipamento)
  - Placeholder: "Ex: Notebook, Projetor, C√¢mera, etc."
- **Marca**: Campo de texto
- **Modelo**: Campo de texto
- **Quantidade Total**: Campo num√©rico (m√≠nimo 1)

Bot√µes: "Cancelar" | "Cadastrar"

**Editar Equipamento:**
- Mesmo formul√°rio do cadastro
- Pr√©-preenchido com dados atuais
- Bot√£o: "Salvar Altera√ß√µes"

**Excluir Equipamento:**
- Verificar se h√° agendamentos ativos usando este equipamento
- Se houver: "‚ùå N√£o √© poss√≠vel excluir. Existem agendamentos ativos com este equipamento."
- Se n√£o houver: Confirmar exclus√£o

**Regras:**
- Equipamentos s√£o espec√≠ficos por unidade (cada admin v√™ e gerencia apenas os da sua unidade)
- Ao cadastrar, associar automaticamente √† unidade do admin logado

---

#### 3.4 Usu√°rios (Admin)

**Layout:**
- T√≠tulo: "Professores Cadastrados"
- Subt√≠tulo: "Visualize todos os professores que trabalham na sua unidade"
- Barra de busca: "üîç Pesquisar por nome ou n√∫mero TOTVS..."
- Tabela com colunas:
  - Nome Completo
  - N√∫mero TOTVS
  - Email Institucional
  - Unidades (mostrar todas as unidades do professor)
  - A√ß√µes (Editar | Excluir)

**Filtro:**
- Mostrar apenas professores que t√™m a unidade do admin no array de unidades deles

**Modal "Editar Professor":**
Campos edit√°veis:
- Nome Completo
- Email Institucional
- Unidades (m√∫ltipla sele√ß√£o)
- Senha (opcional, s√≥ preencher se quiser alterar)

Bot√µes: "Cancelar" | "Salvar Altera√ß√µes"

**Excluir Professor:**
- Confirmar: "Tem certeza que deseja excluir este professor?"
- Verificar se h√° agendamentos futuros
- Se houver: avisar e perguntar se deseja continuar

---

#### 3.5 Configura√ß√µes (Admin)

**Layout:**
- T√≠tulo: "Configura√ß√µes da Unidade"
- Cards de configura√ß√£o

**Card: Anteced√™ncia M√≠nima para Agendamentos**

Conte√∫do:
- T√≠tulo: "‚è∞ Anteced√™ncia M√≠nima"
- Descri√ß√£o: "Defina se os professores precisam agendar com anteced√™ncia m√≠nima"

- **Toggle Switch** (estilo iOS)
  - Label: "Ativar anteced√™ncia m√≠nima"
  - Cor: Azul quando ativo
  
- **Campo num√©rico** (aparece apenas se toggle ativo)
  - Label: "Horas de anteced√™ncia m√≠nima"
  - Input num√©rico
  - Min: 1, Max: 72
  - Helper text: "Professores s√≥ poder√£o agendar com pelo menos X horas de anteced√™ncia"

- Bot√£o: "Salvar Configura√ß√µes" (verde)

**L√≥gica:**
- Salvar na tabela settings associado √† unidade do admin
- Ao salvar, mostrar mensagem de sucesso
- Essa configura√ß√£o afeta apenas a unidade do admin logado

---

## REGRAS DE NEG√ìCIO CR√çTICAS

### Disponibilidade de Equipamentos
1. Quantidade dispon√≠vel = Quantidade total cadastrada - Soma de quantidades reservadas no mesmo hor√°rio
2. Verificar sobreposi√ß√£o de hor√°rios:
   - Agendamento 1: 10:00 - 12:00
   - Agendamento 2: 11:00 - 13:00
   - Esses dois agendamentos T√äM conflito de hor√°rio
3. Se quantidade dispon√≠vel = 0, mostrar "TODOS J√Å EST√ÉO RESERVADOS"
4. N√£o permitir agendar quantidade maior que dispon√≠vel

### Status Autom√°tico
- Sistema deve ter um processo que verifica constantemente (pode ser ao carregar p√°gina ou a cada X minutos)
- Se hora_termino < hora_atual: mudar status para 'encerrado'
- Se hora_termino >= hora_atual: status permanece 'active'

### Anteced√™ncia M√≠nima
- Verificar configura√ß√£o da unidade
- Se ativo: calcular diferen√ßa entre data/hora do agendamento e data/hora atual
- Se diferen√ßa < horas configuradas: bloquear e mostrar erro

### Isolamento de Dados por Unidade
- Admin s√≥ v√™ e gerencia: equipamentos, agendamentos e configura√ß√µes da SUA unidade
- Professor ao fazer agendamento: v√™ equipamentos da unidade selecionada
- Professor ao visualizar agendamentos: v√™ agendamentos da unidade selecionada

---

## DESIGN E UX

### Paleta de Cores
- **Cor Principal**: Azul escuro #2D3561 (como no header dos prints)
- **Cor Secund√°ria**: Verde #10B981 (bot√µes de a√ß√£o positiva)
- **Cor de Alerta**: Vermelho #EF4444
- **Cor de Fundo**: Cinza claro #F3F4F6
- **Texto**: Cinza escuro #1F2937

### Tipografia
- Fonte: Inter ou similar (moderna e clean)
- T√≠tulos: Bold, tamanho maior
- Corpo: Regular, leg√≠vel

### Componentes
- **Inputs**: Borda sutil, foco com borda azul, √≠cones √† esquerda
- **Bot√µes**: Arredondados, sombra sutil, hover com transi√ß√£o suave
- **Cards**: Fundo branco, borda sutil, sombra leve, hover com eleva√ß√£o
- **Modals**: Overlay escuro semitransparente, modal centralizado, anima√ß√£o suave
- **Progress Steps**: C√≠rculos com n√∫meros, linha conectando, estado ativo em azul

### Responsividade
- Desktop: Layout completo
- Tablet: Grid responsivo (2 colunas)
- Mobile: Single column, menu hamburger

### Anima√ß√µes
- Transi√ß√µes suaves (300ms)
- Gr√°ficos com anima√ß√£o ao carregar
- Feedback visual em todas as a√ß√µes
- Loading states apropriados

---

## VALIDA√á√ïES E MENSAGENS

### Mensagens de Erro
- ‚ùå Erro ao fazer login: "Credenciais inv√°lidas"
- ‚ùå Campos obrigat√≥rios vazios: "Por favor, preencha todos os campos obrigat√≥rios"
- ‚ùå Email j√° cadastrado: "Este email j√° est√° em uso"
- ‚ùå N√∫mero TOTVS j√° cadastrado: "Este n√∫mero TOTVS j√° est√° registrado"
- ‚ùå Hor√°rio inv√°lido: "Hora de t√©rmino deve ser posterior √† hora de in√≠cio"
- ‚ùå Anteced√™ncia n√£o respeitada: "√â necess√°rio agendar com no m√≠nimo [X] horas de anteced√™ncia"
- ‚ùå Sem equipamentos dispon√≠veis: "TODOS OS [EQUIPAMENTOS] J√Å EST√ÉO RESERVADOS"
- ‚ùå N√£o selecionou equipamentos: "Por favor, selecione pelo menos um equipamento"
- ‚ùå Termo n√£o aceito: "Voc√™ precisa aceitar os termos para confirmar o agendamento"

### Mensagens de Sucesso
- ‚úÖ Cadastro realizado: "Cadastro realizado com sucesso! Fa√ßa login para continuar."
- ‚úÖ Agendamento confirmado: "Agendamento realizado com sucesso!"
- ‚úÖ Equipamento cadastrado: "Equipamento cadastrado com sucesso!"
- ‚úÖ Configura√ß√µes salvas: "Configura√ß√µes atualizadas com sucesso!"
- ‚úÖ Dados atualizados: "Informa√ß√µes atualizadas com sucesso!"

### Mensagens de Confirma√ß√£o
- ‚ö†Ô∏è Excluir agendamento: "Tem certeza que deseja excluir este agendamento?"
- ‚ö†Ô∏è Excluir equipamento: "Tem certeza que deseja excluir este equipamento?"
- ‚ö†Ô∏è Excluir professor: "Tem certeza que deseja excluir este professor? Esta a√ß√£o n√£o pode ser desfeita."

---

## SEGURAN√áA

### Autentica√ß√£o
- Usar Supabase Auth para hash de senhas
- Sess√µes seguras
- Tokens JWT

### Autoriza√ß√£o
- Professor n√£o pode acessar rotas de admin
- Admin n√£o pode acessar dados de outras unidades
- Valida√ß√µes no backend (Supabase RLS)

### Valida√ß√µes
- Sanitizar todos os inputs
- Valida√ß√£o de dados no frontend e backend
- Prevenir SQL injection (Supabase j√° protege)

---

## FLUXOS PRINCIPAIS

### Fluxo 1: Professor Fazendo Agendamento
1. Login
2. Clica em "In√≠cio"
3. Seleciona unidade (onde vai usar)
4. Preenche dados b√°sicos (sistema autocompleta nome ao digitar TOTVS)
5. Valida anteced√™ncia m√≠nima
6. Clica "Pr√≥ximo"
7. V√™ equipamentos dispon√≠veis para aquele hor√°rio
8. Seleciona equipamentos e quantidades
9. Clica "Pr√≥ximo"
10. Revisa informa√ß√µes
11. Adiciona observa√ß√µes (opcional)
12. Clica "Visualizar Termo"
13. L√™ termo completo preenchido
14. Fecha modal
15. Marca checkbox "Aceito os termos"
16. Clica "Confirmar Agendamento"
17. Recebe confirma√ß√£o de sucesso
18. √â redirecionado para p√°gina Agendamentos

### Fluxo 2: Admin Cadastrando Equipamento
1. Login como admin
2. Menu lateral > Equipamentos
3. Clica "+ Cadastrar Equipamento"
4. Preenche: nome, marca, modelo, quantidade
5. Clica "Cadastrar"